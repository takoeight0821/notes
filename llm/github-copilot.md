# GitHub Copilot とともに働く

GitHub Copilot は、AI を活用した開発支援ツールです。
もともとは、コーディングのための入力補助ツールとして登場しましたが、現在では、ドキュメントの作成やコードレビューなど、さまざまな場面で活用されています。
また、コーディングにおいても、単なる入力補助にとどまらず、コードの生成やリファクタリング、テストの作成など、幅広い支援を行います。

このドキュメントでは、登場初期から GitHub Copilot を使ってきた経験をもとに、自分なりの「GitHub Copilot を使いこなすためのコツ」をまとめています。

## 「実行」ではなく「自動化」させる

「コンピュータは、指示されたことを正確に実行する」 とよく言われます。
プログラムのバグはその典型的な例で、コンピュータに与えた指示、つまりコードに誤りがあるため、意図しない動作を引き起こします。
プログラムをうまく動かすためには、コードを正確に書く必要があります。

ところが、LLM の場合は話が違います。
LLM は、「与えられた指示に対して、もっともらしい応答を生成する」ようにプログラムされています。
そのため、指示が曖昧であっても、ある程度の応答を生成することができます。
一方で、LLM が意図しない振る舞いをするとき、いくら指示を正確に書いても事態は改善しません。

例えば、Markdown のドキュメントを HTML に変換するタスクを考えてみましょう。

プログラムを書く場合、だいたい次のようなコードを書きます。

- Markdown ファイルを読み込む。
- [構文解析]()により、Markdown の各要素を抽出する。
- 各要素を、対応する HTML タグに変換する。
  - 例えば、`# 見出し` は `<h1>見出し</h1>` に変換する。
- 変換した HTML タグを、HTML ファイルに書き出す。

自分でこのプログラムを書くのは大変ですが、突き詰めていけば必ず正確な Markdown to HTML 変換プログラムが手に入ります。

一方、GitHub Copilot Agent で同じタスクを実行する場合、次のような指示を書きます。

```markdown
今開いている Markdown ファイルを、HTML に変換してください。
```

大抵はこれでうまくいきます。
でも、うまくいかなかった場合はどうすればいいでしょうか？

Markdown の仕様をより細かく伝えれば、うまくいくかもしれません。
HTML の仕様も伝えれば、より正確な変換が得られるかもしれません。
しかし、正確な変換結果になる保証はありません。

そこで、以下のような指示を書いてみます。

```markdown
Markdown ファイルを HTML に変換するプログラムを作成し、そのプログラムを実行して、今開いている Markdown ファイルを HTML に変換してください。
```

すると、GitHub Copilot は`md2html.py`のようなプログラムを生成し、実行してくれます。
もし、期待通りに変換されなかった場合は、エラーや結果を元にプログラムを修正して、再度実行すればいいのです。
もちろん、プログラムの修正も GitHub Copilot が支援してくれます。

このように、GitHub Copilot を使ってタスクに取り組む場合は、タスクを「実行」するのではなく、「自動化」することを意識するとよいでしょう。

## 自然言語でプログラミングする

GitHub Copilot による入力補助は、開いているファイルの内容に基づいて行われます。
そのため、やりたいことを自然言語でコメントとして書くと、GitHub Copilot がその内容に基づいてコードを生成してくれます。

たとえば、日付の変換を行うメソッドを作成したいが、標準ライブラリの使い方がわからない場合、次のようにコメントを書きます。

```java
// 標準ライブラリを使って、"2025/06/05" のような日付文字列を "2025年06月05日" の形式に変換する
public static String dateConvert(String dateStr) {
```

すると、Copilot は以下のようなコードを提案してくれます。

```java
public static String dateConvert(String dateStr) {
    DateTimeFormatter inputFormatter = DateTimeFormatter.ofPattern("yyyy/MM/dd");
    LocalDate date = LocalDate.parse(dateStr, inputFormatter);
    DateTimeFormatter outputFormatter = DateTimeFormatter.ofPattern("yyyy年MM月dd日");
    return date.format(outputFormatter);
}
```

このように、複雑な変換や書き方が分からない処理も、自然言語で説明するだけで、適切なコードを自動生成できます。

コメントではなく、Inline Chat を使うこともできます。
TODO: Inline Chat のスクショ
